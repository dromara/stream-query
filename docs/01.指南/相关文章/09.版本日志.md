---
title: 版本日志
date: 2023-06-06 22:55:00
permalink: /pages/ca8d6e/
---


## v1.9.1
> AbstractJsonFieldHandler的parse、toJson从protected改为了public ,兼容前置版本

## v1.9.0
>1. 废弃Database.lambdaQuery(Serializable,SFunction)、Database.lambdaQuery(Collection, SFunction)，移到WrapperHelper
>2. 修复StreamScannerRegistrar扫描包时basePackages默认值设置不合适导致的卡顿问题 感谢@kirito2020
>3. 基于QueryCondition对LambdaQueryWrapper进行typeHandler的一定量适配 感谢@Casonhqc
>4. 废弃ReflectHelper.explain 感谢@zslhome
>5. TableName支持自定义注解，见[I7BSNV](https://gitee.com/dromara/stream-query/issues/I7BSNV) 感谢@weaseal
>6. 新增Stream.of(students).nonNull(Student::getName)方法 感谢@fibonacciXue
>7. 添加LambdaHelper.getGetterSetterMap和LambdaHelper.getPropertyGetterSetterMap
>8. 添加BeanHelper.copyProperties(source, target) 感谢 @Eliauk

> 注意！AbstractJsonFieldHandler的parse、toJson从protected改为了public，会尽快发布v1.9.1修订

**完整的更新日志**: https://gitee.com/dromara/stream-query/commits/v1.9.0

## v1.8.0

>1. HighlightHelper修改，处理方式更改为使用区间合并，添加按给定单词做高亮处理的方法——感谢 @kirito @Eliauk
>2. 新增HighlightHelper.highlight(String text, UnaryOperator<> highlightOperator, Collection<> words)方法，用于查找并高亮——感谢 @kirito @Eliauk
>   使用方式：[HighlightHelperTest](https://gitee.com/dromara/stream-query/blob/main/stream-core/src/test/java/org/dromara/streamquery/stream/core/business/highlight/HighlightHelperTest.java)
>3. Maps新增isEmpty、isNotEmpty
>4. 新增SerCons.entryCons、SerFunc.entryFunc、SerPred.entryPred方法，对Map.Entry进行lambda操作时进行转换适配
>   使用方式：[SerConsTest](https://gitee.com/dromara/stream-query/blob/main/stream-core/src/test/java/org/dromara/streamquery/stream/core/lambda/function/SerConsTest.java) [SerFuncTest](https://gitee.com/dromara/stream-query/blob/main/stream-core/src/test/java/org/dromara/streamquery/stream/core/lambda/function/SerFuncTest.java) [SerPredTest](https://gitee.com/dromara/stream-query/blob/main/stream-core/src/test/java/org/dromara/streamquery/stream/core/lambda/function/SerPredTest.java)
>5. 新增Steam.of(map)，代替Steam.of(map.entries)
>6. 优化SaveOneSql、UpdateOneSql构造方法
>7. 废弃Database.select，使用WrapperHelper.select代替
>8. Database.updateFewSql支持typeHandler，见：[JsonFieldHandlerTest](https://gitee.com/dromara/stream-query/blob/main/stream-plugin/stream-plugin-mybatis-plus/src/test/java/org/dromara/streamquery/stream/plugin/mybatisplus/JsonFieldHandlerTest.java)

## v1.7.0-alpha

>1. TreeHelper支持获取层级节点
>2. TreeHelper可以不用强制传入childrenSetter，废弃旧版of api
>3. 添加LambdaHelper.getGetter、LambdaHelper.getSetter
>4. 添加Maps.computeIfAbsent，解决[jdk8下`ConcurrentHashMap#computeIfAbsent`死循环问题](https://bugs.openjdk.org/browse/JDK-8161372)，并替换现有的computeIfAbsent为该函数
>5. Maps新增一些函数：
    >   merge -> 合并两个Map得到一个新的Map，如果key相同，使用mergeFunction处理value
    >   filter -> 传入策略，过滤map
    >   flatten -> 将具有多个级别的嵌套Map平展为单级Map使用指定分隔符从原始键值连接
>6. 添加JreEnum，可以用于判断一些java版本
>7. 抽取stream-dependencies模块用于管理依赖
>8. 处理了动态mapper扫描实体逻辑bug

## v1.6.0-alpha

### 本次更新新增的方法
>1. TreeHelper.toTree(list)
>2. WrapperHelper.multi(wrapper,dataList,biConsumer)
    >   向下兼容并修改了入参的方法
>3. Maps.oneToManyToOne函数入参从List拓展为Collection

### 废弃的方法
>1. 废弃了WrapperHelper.multiOr，该方法也许将在(v2.0)移除，取而代之使用WrapperHelper.multi代替，这是因为需要考虑到灵活控制`or`条件是否拼接
    该版本有TreeHelper的兼容性问题，建议使用了TreeHelper的用户不要使用该版本，会尽快发布新版本向下兼容

## v1.5.0-alpha

### 特性：
>1. 支持了几种配置动态mapper的方式如配置文件、注解硬编码等[pulls/304](https://gitee.com/dromara/stream-query/pulls/304) [pulls/305](https://gitee.com/dromara/stream-query/pulls/305)
>2. 新增JsonFieldHandler，封装typeHandler，使其在序列化/反序列化时可以拿到字段信息
>3. 新增了几个Sets/Lists/Maps等类的函数
>4. 拆分了WrapperHelper